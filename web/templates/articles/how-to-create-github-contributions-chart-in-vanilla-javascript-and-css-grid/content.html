<p>GitHub давно задаёт тренды не только в разработке, но и в визуализации активности. Их знаменитая сетка активности – маленькие квадратики, плавно меняющие цвет в зависимости от количества событий, стала настоящим символом продуктивности.</p>

<p>В этой статье мы пошагово создадим такую сетку своими руками с помощью чистого JavaScript и <b class="highlight">CSS Grid</b>, без использования сторонних библиотек или фреймворков. Мы научимся:</p>

<ul>
    <li>строить сетку дней и недель с помощью CSS Grid,</li>
    <li>генерировать данные активности,</li>
    <li>настраивать оттенки в зависимости от "нагрузки",</li>
    <li>аккуратно оформлять визуальную часть с минимальным количеством CSS.</li>
</ul>

<p>Как и в прошлых статьях, всю логику мы аккуратно реализуем внутри единого класса <code>ContributionsChart</code>, однако на этот раз нам также понадобится добавить немного CSS магии.</p>

<h2>Что у нас получится в итоге</h2>

<p>Интерактивная, лёгкая и полностью настраиваемая таблица активности, где можно:</p>

<ul>
    <li>выбрать собственную цветовую палитру (или оставить вариант с GitHub);</li>
    <li>задать произвольную дату начала периода (ведь не у всех активности начинаются с 1 января, верно?).</li>
</ul>

<div class="article-center">
    <div class="contributions-chart">
        <div class="contribution-cell contribution-cell-weekday"></div>
        <div class="contribution-cell contribution-cell-weekday">пн</div>
        <div class="contribution-cell contribution-cell-weekday">вт</div>
        <div class="contribution-cell contribution-cell-weekday">ср</div>
        <div class="contribution-cell contribution-cell-weekday">чт</div>
        <div class="contribution-cell contribution-cell-weekday">пт</div>
        <div class="contribution-cell contribution-cell-weekday">сб</div>
        <div class="contribution-cell contribution-cell-weekday">вс</div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Апр</div><div class="contribution-cell contribution-cell-day" title="01.04.2024: 21" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="02.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="03.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="04.04.2024: 11" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="05.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="06.04.2024: 16" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="07.04.2024: 21" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="08.04.2024: 4" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="09.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="11.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="12.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="13.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="14.04.2024: 7" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="15.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="17.04.2024: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="18.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="19.04.2024: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="20.04.2024: 24" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="21.04.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="22.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="23.04.2024: 13" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="24.04.2024: 4" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="25.04.2024: 25" style="background: rgb(17, 99, 41);"></div><div class="contribution-cell contribution-cell-day" title="26.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="27.04.2024: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="28.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="29.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="30.04.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="02.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="03.05.2024: 4" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="04.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="05.05.2024: 16" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Май</div><div class="contribution-cell contribution-cell-day" title="06.05.2024: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="07.05.2024: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="08.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="09.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="11.05.2024: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="12.05.2024: 10" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="13.05.2024: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="14.05.2024: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="15.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.05.2024: 19" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="17.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="18.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="19.05.2024: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="20.05.2024: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="21.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="22.05.2024: 23" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="23.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="24.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="25.05.2024: 19" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="26.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="27.05.2024: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="28.05.2024: 25" style="background: rgb(17, 99, 41);"></div><div class="contribution-cell contribution-cell-day" title="29.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="30.05.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="31.05.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.06.2024: 9" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="02.06.2024: 10" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Июн</div><div class="contribution-cell contribution-cell-day" title="03.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="04.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="05.06.2024: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="06.06.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="07.06.2024: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="08.06.2024: 16" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="09.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="11.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="12.06.2024: 9" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="13.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="14.06.2024: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="15.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="17.06.2024: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="18.06.2024: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="19.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="20.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="21.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="22.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="23.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="24.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="25.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="26.06.2024: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="27.06.2024: 17" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="28.06.2024: 24" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="29.06.2024: 10" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="30.06.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Июл</div><div class="contribution-cell contribution-cell-day" title="01.07.2024: 13" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="02.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="03.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="04.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="05.07.2024: 16" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="06.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="07.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="08.07.2024: 10" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="09.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.07.2024: 1" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="11.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="12.07.2024: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="13.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="14.07.2024: 2" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="15.07.2024: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="16.07.2024: 19" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="17.07.2024: 11" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="18.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="19.07.2024: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="20.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="21.07.2024: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="22.07.2024: 13" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="23.07.2024: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="24.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="25.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="26.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="27.07.2024: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="28.07.2024: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="29.07.2024: 2" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="30.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="31.07.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.08.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="02.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="03.08.2024: 23" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="04.08.2024: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Авг</div><div class="contribution-cell contribution-cell-day" title="05.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="06.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="07.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="08.08.2024: 1" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="09.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="11.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="12.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="13.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="14.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="15.08.2024: 21" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="16.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="17.08.2024: 12" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="18.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="19.08.2024: 25" style="background: rgb(17, 99, 41);"></div><div class="contribution-cell contribution-cell-day" title="20.08.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="21.08.2024: 19" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="22.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="23.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="24.08.2024: 17" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="25.08.2024: 17" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="26.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="27.08.2024: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="28.08.2024: 19" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="29.08.2024: 17" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="30.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="31.08.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Сен</div><div class="contribution-cell contribution-cell-day" title="02.09.2024: 13" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="03.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="04.09.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="05.09.2024: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="06.09.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="07.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="08.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="09.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="11.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="12.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="13.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="14.09.2024: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="15.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.09.2024: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="17.09.2024: 9" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="18.09.2024: 23" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="19.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="20.09.2024: 24" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="21.09.2024: 9" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="22.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="23.09.2024: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="24.09.2024: 13" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="25.09.2024: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="26.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="27.09.2024: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="28.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="29.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="30.09.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="02.10.2024: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="03.10.2024: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="04.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="05.10.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="06.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Окт</div><div class="contribution-cell contribution-cell-day" title="07.10.2024: 3" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="08.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="09.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.10.2024: 19" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="11.10.2024: 11" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="12.10.2024: 13" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="13.10.2024: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="14.10.2024: 3" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="15.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.10.2024: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="17.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="18.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="19.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="20.10.2024: 2" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="21.10.2024: 17" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="22.10.2024: 3" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="23.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="24.10.2024: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="25.10.2024: 23" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="26.10.2024: 19" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="27.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="28.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="29.10.2024: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="30.10.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="31.10.2024: 4" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="01.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="02.11.2024: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="03.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Ноя</div><div class="contribution-cell contribution-cell-day" title="04.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="05.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="06.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="07.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="08.11.2024: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="09.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.11.2024: 13" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="11.11.2024: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="12.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="13.11.2024: 21" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="14.11.2024: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="15.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="17.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="18.11.2024: 4" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="19.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="20.11.2024: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="21.11.2024: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="22.11.2024: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="23.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="24.11.2024: 12" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="25.11.2024: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="26.11.2024: 16" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="27.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="28.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="29.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="30.11.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.12.2024: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Дек</div><div class="contribution-cell contribution-cell-day" title="02.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="03.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="04.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="05.12.2024: 1" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="06.12.2024: 2" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="07.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="08.12.2024: 24" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="09.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.12.2024: 10" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="11.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="12.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="13.12.2024: 10" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="14.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="15.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.12.2024: 4" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="17.12.2024: 4" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="18.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="19.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="20.12.2024: 2" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="21.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="22.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="23.12.2024: 3" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="24.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="25.12.2024: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="26.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="27.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="28.12.2024: 9" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="29.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="30.12.2024: 2" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="31.12.2024: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="02.01.2025: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="03.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="04.01.2025: 21" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="05.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Янв</div><div class="contribution-cell contribution-cell-day" title="06.01.2025: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="07.01.2025: 4" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="08.01.2025: 2" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="09.01.2025: 12" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="10.01.2025: 15" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="11.01.2025: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="12.01.2025: 7" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="13.01.2025: 1" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="14.01.2025: 12" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="15.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="17.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="18.01.2025: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="19.01.2025: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="20.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="21.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="22.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="23.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="24.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="25.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="26.01.2025: 2" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="27.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="28.01.2025: 25" style="background: rgb(17, 99, 41);"></div><div class="contribution-cell contribution-cell-day" title="29.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="30.01.2025: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="31.01.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.02.2025: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="02.02.2025: 18" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Фев</div><div class="contribution-cell contribution-cell-day" title="03.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="04.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="05.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="06.02.2025: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="07.02.2025: 14" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="08.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="09.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="10.02.2025: 7" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="11.02.2025: 5" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="12.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="13.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="14.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="15.02.2025: 10" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="16.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="17.02.2025: 21" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="18.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="19.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="20.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="21.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="22.02.2025: 11" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="23.02.2025: 9" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" title="24.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="25.02.2025: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="26.02.2025: 8" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="27.02.2025: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="28.02.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="01.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="02.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Мар</div><div class="contribution-cell contribution-cell-day" title="03.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="04.03.2025: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="05.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="06.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="07.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="08.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="09.03.2025: 19" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="10.03.2025: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="11.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="12.03.2025: 24" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="13.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="14.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="15.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="16.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="17.03.2025: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="18.03.2025: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="19.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="20.03.2025: 3" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="21.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="22.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="23.03.2025: 20" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="24.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="25.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="26.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="27.03.2025: 6" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" title="28.03.2025: 0" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" title="29.03.2025: 22" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" title="30.03.2025: 0" style="background: rgb(239, 242, 245);"></div></div>
</div>

<p>Вот пример, как будет выглядеть использование нашего класса:</p>

<div class="code">
    <div class="code-title">Пример использования класса ContributionsChart</div>
<pre data-lang="js">
const config = {
    block: document.getElementById("contributions-chart"),
    colors: ["#eff2f5", "#aceebb", "#4ac26b", "#2da44e", "#116329"],
    startYear: 2024,
    startMonth: 4
}

const contributions = [
    {date: new Date(2025, 4, 26), count: 2},
    {date: new Date(2025, 4, 20), count: 1},
    {date: new Date(2025, 4, 10), count: 7},
    ...
]

const contributionsChart = new ContributionsChart(config)
contributionsChart.plot(contributions)
</pre>
</div>

<p>Теперь давайте шаг за шагом построим этот компонент – от простой HTML-структуры до аккуратной и стильной диаграммы.</p>

<h2>Шаг 0. Подготовка</h2>

<p>Начнём с создания трёх файлов:</p>

<ul>
    <li><code>contributions_chart.html</code> – для вёрстки,</li>
    <li><code>contributions_chart.css</code> – для стилизации,</li>
    <li> <code>contributions_chart.js</code> – для логики.</li>
</ul>

<p>В html файле подключим стили, скрипт, а также добавим контейнер для нашей сетки:</p>

<div class="code">
    <div class="code-title">Файл contributions_chart.html</div>
<pre data-lang="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
    &lt;title&gt;Сетка активности в стиле GitHub&lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" href="contributions_chart.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="contributions-chart" id="contributions-chart"&gt;&lt;/div&gt;

    &lt;script type="text/javascript" src="contributions_chart.js"&gt;&lt;/script&gt;
    &lt;script&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

<p>В JavaScript-файле создадим класс <code>ContributionsChart</code>, конструктор которого будет принимать конфигурацию и сохранять её, а метод <code>plot</code> реализует основную логику</p>

<div class="code">
    <div class="code-title">Файл contributions_js.html</div>
<pre data-lang="js">
class ContributionsChart {
    constructor(config) {
        this.block = config.block
        this.colors = config.colors ?? ["#eff2f5", "#aceebb", "#4ac26b", "#2da44e", "#116329"]

        this.weekDayNames = ["пн", "вт", "ср", "чт", "пт", "сб", "вс"]
        this.monthNames = ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"]
        
        // рассчитываем начальную и конечную даты
        const year = config.startYear ?? new Date().getFullYear() // если не передали, то отображаем текущий год
        const month = config.startMonth ?? 1 // если не передали, то начинаем с января
        this.startDate = new Date(year, month - 1, 1) // начинаем с первого числа месяца
        this.endDate = new Date(year + 1, month - 1, 1) // заканчиваем ровно через год
    }

    plot(contributions) {

    }
}
</pre>
</div>

<p>Файл стилей пока оставим пустым – к нему вернёмся чуть позже.</p>

<h2>Шаг 1. Верстаем сетку с помощью CSS Grid</h2>

<p>Наша сетка активности будет представлять собой таблицу: каждый столбец – это неделя, каждая строка – день недели. Таблицу будем строить с помощью CSS Grid, потому что это позволит нам:</p>

<ul>
    <li>легко управлять количеством строк и столбцов;</li>
    <li>удобно задавать размеры ячеек;</li>
    <li>с лёгкостью адаптировать сетку под любой размер блока.</li>
</ul>

<p>Основная идея следующая: контейнер будет отображаться как сетка (<code>grid</code>) из восьми строк (название месяца + 7 дней недели) с автоматическим размещением ячеек по строкам (<code>grid-auto-flow: row</code>). Внутри контенера разместим квадратные ячейки размером 15х15 пикселей следующих типов:</p>

<ul>
    <li><code>weekday</code> – ячейки с днём недели (пн, вт, ср, ...);</li>
    <li><code>month</code> – ячейки с названиями месяцев, которые будут растягиваться на несколько столбцов с помощью <code>grid-column-end</code>;</li>
    <li><code>day</code> – ячейки с данными активности, окрашенные в зависимости от количества событий;</li>
    <li><code>skip</code> – пустые ячейки для выравнивания начала месяца по нужному дню недели.</li>
</ul>

<p>В HTML структура будет выглядеть примерно так:</p>

<div class="code">
    <div class="code-title">Пример расположения ячеек внутри контейнера</div>
<pre data-lang="html">
&lt;div class="contributions-chart"&gt;
    &lt;div class="contributions-chart-weekday"&gt;&lt;/div&gt;
    &lt;div class="contributions-chart-weekday"&gt;ПН&lt;/div&gt;
    &lt;div class="contributions-chart-weekday"&gt;ВТ&lt;/div&gt;
    &lt;div class="contributions-chart-weekday"&gt;СР&lt;/div&gt;
    &lt;div class="contributions-chart-weekday"&gt;ЧТ&lt;/div&gt;
    &lt;div class="contributions-chart-weekday"&gt;ПТ&lt;/div&gt;
    &lt;div class="contributions-chart-weekday"&gt;СБ&lt;/div&gt;
    &lt;div class="contributions-chart-weekday"&gt;ВС&lt;/div&gt;
    &lt;div class="contributions-chart-month"&gt;Янв&lt;/div&gt;
    &lt;div class="contributions-chart-skip"&gt;&lt;/div&gt;
    &lt;div class="contributions-chart-skip"&gt;&lt;/div&gt;
    &lt;div class="contributions-chart-day"&gt;&lt;/div&gt;
    &lt;!-- и так далее --&gt;
&lt;/div&gt;
</pre>
</div>

<p>Реализуем это в CSS файле:</p>

<div class="code">
    <div class="code-title">CSS разметка таблицы</div>
<pre data-lang="css">
.contributions-chart {
    display: inline-grid;
    grid-auto-flow: column;
    grid-template-rows: repeat(8, 1fr);
    grid-gap: 4px;
}

.contribution-cell {
    width: 15px;
    height: 15px;
    border-radius: 4px;
}

.contribution-cell-weekday, .contribution-cell-month {
    font-family: sans-serif;
    font-size: 10px;
    font-weight: bold;
}
</pre>
</div>

<h2>Добавляем ячейки с днями недели</h2>

<p>После базовой вёрстки перейдём к JavaScript. Для начала создадим восемь ячеек с днями недели (первая пустая). Введём вспомогательный метод <code>addCell</code>, который добавляет ячейку нужного типа с заданным текстом, а затем с его поомщью реализуем метод <code>addWeekDays</code>:</p>

<div class="code">
    <div class="code-title">Добавление дней недели</div>
<pre data-lang="js">
plot(contributions) {
    this.addWeekDays()
}

addWeekDays() {
    this.addCell("contribution-cell-weekday", "")

    for (const day of this.weekDayNames)
        this.addCell("contribution-cell-weekday", day)
}

addCell(className, content) {
    const cell = document.createElement("div")
    cell.classList.add("contribution-cell")
    cell.classList.add(className)
    cell.innerText = content

    this.block.appendChild(cell)
    return cell
}
</pre>
</div>

<p>В результате у нас получится что-то такое:</p>

<div class="article-center">
    <div class="contributions-chart">
        <div class="contribution-cell contribution-cell-weekday"></div>
        <div class="contribution-cell contribution-cell-weekday">пн</div>
        <div class="contribution-cell contribution-cell-weekday">вт</div>
        <div class="contribution-cell contribution-cell-weekday">ср</div>
        <div class="contribution-cell contribution-cell-weekday">чт</div>
        <div class="contribution-cell contribution-cell-weekday">пт</div>
        <div class="contribution-cell contribution-cell-weekday">сб</div>
        <div class="contribution-cell contribution-cell-weekday">вс</div>
    </div>
</div>

<h2>Добавляем ячейки календаря</h2>

<p>Теперь займёмся заполнением основной части календаря.</p>

<p>Так как ячейки месяцев растягиваются на несколько недель, нам нужно правильно рассчитывать их ширину. Логика будет такой:</p>
<ul>
    <li>запоминаем, с какого столбца начинается месяц,</li>
    <li>при переходе к новому месяцу обновляем ширину предыдущей ячейки.</li>
</ul>

<p>Также необходимо добавить пустые ячейки в начале, если первый день месяца выпадает не на понедельник (если первое число выпадает на вторник, то нам нужно добавить одну пустую ячейку, а если первое число окажется воскресеньем, то нам нужно добавить 6 пустых ячеек).</p>

<p>В JavaScript узнать день недели можно через <code>date.getDay()</code>, где 0 – воскресенье, 1 – понедельник и так далее. Чтобы получить количество пустых ячеек перед началом месяца, воспользуемся формулой: <code>(getDay() + 6) % 7</code>:</p>

<div class="code">
    <div class="code-title">Добавление ячеек календаря</div>
<pre data-lang="js">
plot(contributions) {
    this.addWeekDays()

    const skip = (this.startDate.getDay() + 6) % 7

    let month = this.startDate.getMonth()
    let monthCell = this.addCell("contribution-cell-month", this.monthNames[month])
    let monthColumn = 0
    let index = skip

    // добавляем пустые ячейки
    for (let i = 0; i < skip; i++)
        this.addCell("contribution-cell-skip", "")

    for (let date = this.startDate; date < this.endDate; date.setDate(date.getDate() + 1)) {
        if (index % 7 == 0 && date.getMonth() != month) {
            monthCell.style.gridColumnEnd = `span ${Math.floor(index / 7) - monthColumn}`

            month = date.getMonth()
            monthCell = this.addCell("contribution-cell-month", this.monthNames[month])
            monthColumn = Math.floor(index / 7)
        }

        this.addCell("contribution-cell-day", "")
        index++
    }

    monthCell.style.gridColumnEnd = `span ${Math.floor((index + 6) / 7) - monthColumn}` // обновляем ячейку последнего месяца
}
</pre>
</div>

<p>Теперь у нас есть заготовка календаря со всеми ячейками. Остаётся лишь задать им цвет в соответствии с количеством действий в соответствующий день.</p>

<div class="article-center">
    <div class="contributions-chart">
    <div class="contribution-cell contribution-cell-weekday"></div><div class="contribution-cell contribution-cell-weekday">пн</div><div class="contribution-cell contribution-cell-weekday">вт</div><div class="contribution-cell contribution-cell-weekday">ср</div><div class="contribution-cell contribution-cell-weekday">чт</div><div class="contribution-cell contribution-cell-weekday">пт</div><div class="contribution-cell contribution-cell-weekday">сб</div><div class="contribution-cell contribution-cell-weekday">вс</div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Апр</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Май</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Июн</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Июл</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Авг</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Сен</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Окт</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Ноя</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Дек</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Янв</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Фев</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Мар</div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div><div class="contribution-cell contribution-cell-day"></div></div>
</div>

<h2>Окрашиваем ячейки</h2>

<p>Теперь окрасим ячейки в зависимости от количества событий в день.</p>

<p>Чтобы определить цвет:</p>

<ul>
    <li>Найдём максимальное количество событий за весь период.</li>
    <li>Для каждой ячейки выберем цвет на основе относительного количества событий.</li>
</ul>

<p>Чтобы пустые ячейки отличались от заполненных, используем специальную формулу в методе <code>getColor</code>:</p>

<div class="code">
    <div class="code-title">Метод получения цвета ячейки</div>
<pre data-lang="js">
getColor(count, max) {
    if (count == 0)
        return this.colors[0] // пустая ячейка всегда окрашена в нулевой цвет

    return this.colors[1 + Math.floor(count / max * (this.colors.length - 2))]
}
</pre>
</div>

<p>В методе <code>plot</code> добавим вычисление максимального количества событий, а также для эффективного получения количества событий в заданную дату, преобразуем переданный массив <code>contributions</code> в словарь вида <code>date -> count</code>:</p>

<div class="code">
    <div class="code-title">Вычисление максимального количества событий и преобразование contributions в словарь</div>
<pre data-lang="js">
plot(contributions) {
    const date2count = Object.fromEntries(contributions.map(contribution => [contribution.date, contribution.count]))
    const max = Math.max(...contributions.map(contribution => contribution.count))

    ...
}
</pre>
</div>

<p>Теперь остаётся лишь добавить свойство <code>background</code> для каждой ячейки и можно считать таблицу почти завершённой:</p>

<div class="code">
    <div class="code-title">Изменение цвета ячейки</div>
<pre data-lang="js">
...
const count = date2count[date] ?? 0
const cell = this.addCell("contribution-cell-day", "")
cell.style.background = this.getColor(count, max)}`
...
</pre>
</div>

<div class="article-center">
    <div class="contributions-chart">
        <div class="contribution-cell contribution-cell-weekday"></div><div class="contribution-cell contribution-cell-weekday">пн</div><div class="contribution-cell contribution-cell-weekday">вт</div><div class="contribution-cell contribution-cell-weekday">ср</div><div class="contribution-cell contribution-cell-weekday">чт</div><div class="contribution-cell contribution-cell-weekday">пт</div><div class="contribution-cell contribution-cell-weekday">сб</div><div class="contribution-cell contribution-cell-weekday">вс</div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Апр</div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(17, 99, 41);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Май</div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(17, 99, 41);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Июн</div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Июл</div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Авг</div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(17, 99, 41);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Сен</div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Окт</div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Ноя</div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 5;">Дек</div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Янв</div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(17, 99, 41);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Фев</div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(74, 194, 107);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-month" style="grid-column-end: span 4;">Мар</div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(172, 238, 187);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(45, 164, 78);"></div><div class="contribution-cell contribution-cell-day" style="background: rgb(239, 242, 245);"></div></div>
</div>

<h2>Добавляем подсказки при наведении</h2>

<p>Чтобы сделать таблицу ещё удобнее, добавим всплывающие подсказки при наведении на ячейку. Реализуем это, задавая атрибут <code>title</code> ячейке:</p>

<div class="code">
    <div class="code-title">Добавление подсказки в ячейке</div>
<pre data-lang="js">
plot(contributions) {
    ...

        const count = date2count[date] ?? 0
        const cell = this.addCell("contribution-cell-day", "")
        cell.style.background = this.getColor(count, max)
        cell.title = this.getTitle(date, count)

    ...
}

getTitle(date, count) {
    const day = `${date.getDate()}`.padStart(2, "0")
    const month = `${date.getMonth() + 1}`.padStart(2, "0")
    const year = `${date.getFullYear()}`
    return `${day}.${month}.${year}: ${count}`
}
</pre>
</div>

<p>Готово! Вы восхитительны!</p>

<h2>Итого</h2>

<p>Всего за ~80 строк JavaScript и ~20 строк CSS мы создали красивую таблицу активности, аналогичную GitHub Contributions Chart, которую не стыдно показать друзьям или использовать в своём проекте!</p>

<div class="code code-collapsed">
    <div class="code-title">Итоговый файл <a class="link" download href="/media/articles/{{article.link}}/contributions_chart.html">contributions_chart.html</a></div>
<pre data-lang="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
    &lt;title&gt;Сетка активности в стиле GitHub&lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" href="contributions_chart.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="contributions-chart" id="contributions-chart"&gt;
    &lt;/div&gt;

    &lt;script type="text/javascript" src="contributions_chart.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        const config = {
            block: document.getElementById("contributions-chart"),
            colors: ["#eff2f5", "#aceebb", "#4ac26b", "#2da44e", "#116329"],
            startYear: 2024,
            startMonth: 4
        }

        const contributions = []

        // добавляем случайные события
        for (let date = new Date(2024, 3, 1); date &lt; new Date(2025, 2, 30); date.setDate(date.getDate() + 1))
            if (Math.random() &lt; 0.5)
                contributions.push({date: new Date(date), count: Math.floor(1 + Math.random() * 25)})

        const contributionsChart = new ContributionsChart(config)
        contributionsChart.plot(contributions)
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

<div class="code code-collapsed">
    <div class="code-title">Итоговый файл <a class="link" download href="/media/articles/{{article.link}}/contributions_chart.js">contributions_chart.js</a></div>
<pre data-lang="js">
class ContributionsChart {
    constructor(config) {
        this.block = config.block
        this.colors = config.colors ?? ["#eff2f5", "#aceebb", "#4ac26b", "#2da44e", "#116329"]

        this.weekDayNames = ["пн", "вт", "ср", "чт", "пт", "сб", "вс"]
        this.monthNames = ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"]
        
        const year = config.startYear ?? new Date().getFullYear()
        const month = config.startMonth ?? 1
        this.startDate = new Date(year, month - 1, 1)
        this.endDate = new Date(year + 1, month - 1, 1)
    }

    plot(contributions) {
        const date2count = Object.fromEntries(contributions.map(contribution => [contribution.date, contribution.count]))
        const max = Math.max(...contributions.map(contribution => contribution.count))

        this.addWeekDays()

        const skip = (this.startDate.getDay() + 6) % 7
        let month = this.startDate.getMonth()
        let monthCell = this.addCell("contribution-cell-month", this.monthNames[month])
        let monthColumn = 0
        let index = skip

        for (let i = 0; i < skip; i++)
            this.addCell("contribution-cell-skip", "")

        for (let date = this.startDate; date < this.endDate; date.setDate(date.getDate() + 1)) {
            if (index % 7 == 0 && date.getMonth() != month) {
                monthCell.style.gridColumnEnd = `span ${Math.floor(index / 7) - monthColumn}`
                monthColumn = Math.floor(index / 7)
                month = date.getMonth()
                monthCell = this.addCell("contribution-cell-month", this.monthNames[month])
            }

            const count = date2count[date] ?? 0
            const cell = this.addCell("contribution-cell-day", "")
            cell.style.background = this.getColor(count, max)
            cell.title = this.getTitle(date, count)

            index++
        }

        monthCell.style.gridColumnEnd = `span ${Math.floor((index + 6) / 7) - monthColumn}`
    }

    addWeekDays() {
        this.addCell("contribution-cell-weekday", "")

        for (const day of this.weekDayNames)
            this.addCell("contribution-cell-weekday", day)
    }

    addCell(className, content) {
        const cell = document.createElement("div")
        cell.classList.add("contribution-cell")
        cell.classList.add(className)
        cell.innerText = content

        this.block.appendChild(cell)
        return cell
    }

    getColor(count, max) {
        if (count == 0)
            return this.colors[0]

        return this.colors[1 + Math.floor(count / max * (this.colors.length - 2))]
    }

    getTitle(date, count) {
        const day = `${date.getDate()}`.padStart(2, "0")
        const month = `${date.getMonth() + 1}`.padStart(2, "0")
        const year = `${date.getFullYear()}`
        return `${day}.${month}.${year}: ${count}`
    }
}
</pre>
</div>

<div class="code code-collapsed">
    <div class="code-title">Итоговый файл <a class="link" download href="/media/articles/{{article.link}}/contributions_chart.css">contributions_chart.css</a></div>
<pre data-lang="css">
.contributions-chart {
    display: inline-grid;
    grid-auto-flow: column;
    grid-template-rows: repeat(8, 1fr);
    grid-gap: 4px;
}

.contribution-cell {
    width: 15px;
    height: 15px;
    border-radius: 4px;
}

.contribution-cell-weekday, .contribution-cell-month {
    font-family: sans-serif;
    font-size: 10px;
    font-weight: bold;
}
</pre>
</div>